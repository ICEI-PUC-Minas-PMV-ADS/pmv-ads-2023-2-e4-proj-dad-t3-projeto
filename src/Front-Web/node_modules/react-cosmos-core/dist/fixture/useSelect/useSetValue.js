import { useCallback, useContext } from 'react';
import { findFixtureStateControl } from '../../fixtureState/controls.js';
import { FixtureContext } from '../FixtureContext.js';
export function useSetValue(selectName) {
    const { setFixtureState } = useContext(FixtureContext);
    return useCallback(value => {
        setFixtureState(prevFs => {
            const fsControl = findFixtureStateControl(prevFs, selectName);
            if (!fsControl || fsControl.type !== 'select') {
                console.warn(`Invalid fixture state for select: ${selectName}`);
                return prevFs;
            }
            return {
                ...prevFs,
                controls: {
                    ...prevFs.controls,
                    [selectName]: {
                        ...fsControl,
                        currentValue: value,
                    },
                },
            };
        });
    }, [selectName, setFixtureState]);
}
